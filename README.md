##   ë¶„ë¥˜ ë° ì…ì¶œê³  ìë™í™” ì‹œìŠ¤í…œ
- ë‘ì‚° ë¡œë³´í‹±ìŠ¤ í˜‘ë™ ë¡œë´‡ê³¼ ë ˆê³  ë¸”ë¡ì„ í™œìš©í•œ ë¬¼ë¥˜ ì…ì¶œê³  ìë™í™” ì‹œìŠ¤í…œ êµ¬í˜„   
<img src="https://github.com/daeyeong-choi/WMS/blob/main/images/workspace.png" width="600" />

ğŸ”— ì¶œì²˜ ë° ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” **ë‘ì‚°ë¡œë³´í‹±ìŠ¤(Doosan Robotics Inc.)**ì—ì„œ ë°°í¬í•œ ROS 2 íŒ¨í‚¤ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.
í•´ë‹¹ ì†ŒìŠ¤ì½”ë“œëŠ” BSD 3-Clause Licenseì— ë”°ë¼ ê³µê°œë˜ì–´ ìˆìœ¼ë©°,
ë³¸ ì €ì¥ì†Œ ë˜í•œ ë™ì¼í•œ ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ LICENSE íŒŒì¼ì„ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

    âš ï¸ ë³¸ ì €ì¥ì†ŒëŠ” ë‘ì‚°ë¡œë³´í‹±ìŠ¤ì˜ ê³µì‹ ì €ì¥ì†Œê°€ ì•„ë‹ˆë©°, ë¹„ê³µì‹ì ìœ¼ë¡œ ì¼ë¶€ ìˆ˜ì • ë° êµ¬ì„±ì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
    ê³µì‹ ìë£ŒëŠ” ë‘ì‚°ë¡œë³´í‹±ìŠ¤ ê³µì‹ í™ˆí˜ì´ì§€ë¥¼ ì°¸ê³ í•´ ì£¼ì„¸ìš”.
    github (https://github.com/DoosanRobotics/doosan-robot2)

## ê°œë°œ ê¸°ê°„ ë° ê°œë°œ ì¸ì›
-2025.05.09~2025.05.22
|  | ì—­í•  | ë‹´ë‹¹ ì—…ë¬´|
| --- | --- | --- |
| ìµœëŒ€ì˜ | íŒ€ì¥ | ì „ë°˜ì ì¸ ì½”ë“œ ì‘ì„± ë° ì´ê´„ |
| ì¥** | íŒ€ì› | ë¶„ë¥˜ ì½”ë“œ ì‘ì„± ë° ì˜ìƒ ì œì‘ |
| ìœ ** | íŒ€ì› | ë¶„ë¥˜ ë° ì¬ê³  ì½”ë“œ ì‘ì„± ë° ê²€í†  |
| ê¹€**| íŒ€ì› | ë¶„ë¥˜ ì½”ë“œ ë° ë³´ê³ ì„œ ì‘ì„± |
  
## ê°œë°œ í™˜ê²½ ë° ì¥ë¹„

### **Development Environment**

![Ubuntu](https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=ubuntu&logoColor=white)
![Visual Studio Code](https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=for-the-badge&logo=visual-studio-code&logoColor=white)


### **Robotics**
![ROS](https://img.shields.io/badge/ros-%230A0FF9.svg?style=for-the-badge&logo=ros&logoColor=white)   

### **Programming Languages**
![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)

### í•˜ë“œì›¨ì–´ êµ¬ì„±
#### **Robot**
- Doosan Robotics m0609, OnRobot RG2 Gripper

<p align="left">
  <img src="https://github.com/daeyeong-choi/WMS/blob/main/images/Doosan-Robotics-M0609-Cobot.png" width="300" />
  <img src="https://github.com/daeyeong-choi/WMS/blob/main/images/rg2.png" width="50" />
</p>

### ë¡œë´‡ ì œì–´ ì‹œìŠ¤í…œ
- rclpy ê¸°ë°˜ ROS2 ì œì–´ íŒ¨í‚¤ì§€ êµ¬ì„±
- Doosan ROS2 API ì‚¬ìš©

## ë™ì‘ í™˜ê²½ ê°€ì •
- ìƒì‚° ë¼ì¸ê³¼ ì¬ê³  ì°½ê³  í†µí•©í•œ Workspace modeling
- ì»¨ë² ì´ì–´ ë²¨íŠ¸ ìœ„ë¡œ ëœë¤ìœ¼ë¡œ í¬ê¸°ê°€ ë‹¤ë¥¸ ì œí’ˆ ì´ë™
- ë¶„ë¥˜ â†’ ì…ê³  â†’ ì¶œê³  ìˆœìœ¼ë¡œ ìˆ˜í–‰ (ì ì¬ ì¥ì†Œì— 1ê°œ ì¬ê³  ìˆë‹¤ê³  ê°€ì •)
<p align="left">
  <img src="https://github.com/daeyeong-choi/WMS/blob/main/images/workspace.png" width="470" />
  <img src="https://github.com/daeyeong-choi/WMS/blob/main/images/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-09-04%2017-51-18.png" width="400" />
</p>

## ê¸°ëŠ¥   

1. 5ê°€ì§€ ì¢…ë¥˜ì˜ ë ˆê³ ë¸”ë¡ ë¶„ë¥˜ í›„ ì ì¬
2. ì›í•˜ëŠ” ë¸”ë¡ ì¶œê³ 
3. ì¬ê³  í™•ì¸

## ë™ì‘ íë¦„

1. ëª¨ë“œ ì„ íƒ(1.ë¶„ë¥˜ ë° ì…ê³ , 2.ì¶œê³ , 3.ì¬ê³  í™•ì¸)
2. 1ë²ˆ ì„ íƒ ì‹œ ë¸”ë¡ ìë™ ë¶„ë¥˜í•˜ì—¬ ê° ìœ„ì¹˜ì— ì ì¬
3. 2ë²ˆ ì„ íƒ ì‹œ ì„ íƒí•œ ë¸”ë¡ ì¶œê³  ìœ„ì¹˜ë¡œ ì´ë™
4. 3ë²ˆ ì„ íƒ ì‹œ ì„ íƒí•œ ë¸”ë¡ ê°œìˆ˜ í™•ì¸
5. ê° ë™ì‘ ì¢…ë£Œ í›„ ë˜ëŠ” ì¢…ë£Œ ë²ˆí˜¸ í„°ë¯¸ë„ ì…ë ¥ ì‹œ ëŒ€ê¸° ìƒíƒœ

- ì „ì²´ ë™ì‘ íë¦„
<img src="https://github.com/daeyeong-choi/Warehouse-Management-System-with-co-robot/blob/main/images/flow1.png" width="500" />

- ë¶„ë¥˜ ë™ì‘ íë¦„ 
<img src="https://github.com/daeyeong-choi/Warehouse-Management-System-with-co-robot/blob/main/images/flow2.png" width="500" />

- ë„ˆë¹„ ì¸¡ì • ì‹œí€¸ìŠ¤
<img src="https://github.com/daeyeong-choi/Warehouse-Management-System-with-co-robot/blob/main/images/flow3.png" width="500" />

## ì£¼ìš” ì½”ë“œ

- ë‘ì‚° ë¡œë³´í‹±ìŠ¤ ë°°í¬
![ì½”ë“œ ë² ì´ìŠ¤](https://github.com/DoosanRobotics/doosan-robot2)

1. **ë¸”ë¡ë³„ ê°ì²´ ìƒì„±**  
   ìƒì„± ì‹œ í•„ìš”í•œ ì •ë³´:
   - ë¸”ë¡ ì´ë¦„
   - ì°½ê³  ì´ë¦„
   - ë¸”ë¡ì„ ìŒ“ì„ ìœ„ì¹˜
   - ìŒ“ê¸° ì „ ì´ë™í•  ìœ„ì¹˜
   - ìŒ“ì€ í›„ ì´ë™í•  ìœ„ì¹˜
   - ì´ˆê¸° ì¬ê³  ìˆ˜ëŸ‰
   - ë¸”ë¡ì„ ë¹¼ë‚¼ ìœ„ì¹˜

2. **ë¸”ë¡ ë¶„ë¥˜ ë° ë™ì‘ ìˆ˜í–‰**  
   - ë¸”ë¡ì„ ë¶„ë¥˜í•˜ê±°ë‚˜ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë¸”ë¡ ëª¨ì–‘ì— ë”°ë¼  
     í•´ë‹¹ ìœ„ì¹˜ì—ì„œ ë¸”ë¡ì„ ìŒ“ê±°ë‚˜ ì´ë™í•˜ëŠ” ë™ì‘.

- ë¶„ë¥˜ ë° ì…ê³  ì½”ë“œ ë° ë™ì‘ ì‚¬ì§„
<img src="https://github.com/daeyeong-choi/WMS/blob/main/images/inbound_code.png" width="600" />
<img src="https://github.com/daeyeong-choi/WMS/blob/main/images/inbound_code2.png" width="600" />

```python
def __move_to_pos_stack(self, target_pos, target_pos_up):

        z1=posx(661.400, -48.260,70.550, 126.42, 179.69, 35.9)# ë†’ì´ ì¸¡ì •í•˜ë ¤ ë‚´ë ¤ê°ˆ ìœ„ì¹˜
        print("moving to target_pos_up")
        movel(target_pos_up, vel=VELOCITY, acc=ACC, mod=0)
        print("target_pos_up:", target_pos_up)
        mwait()

        if self.stock == 1:
            print("moving to target_pos")
            movel(target_pos[0], vel=VELOCITY, acc=ACC, mod=0)
            print("target_pos:", target_pos[0])
            mwait()

        elif self.stock ==2:
            print("moving to target_pos")
            movel(target_pos[1], vel=VELOCITY, acc=ACC, mod=0)
            print("target_pos:", target_pos[1])
            mwait()

        ##########################################################í˜ì œì–´
        time.sleep(0.5)
        task_compliance_ctrl(stx=[500, 500, 500, 100, 100, 100])
        time.sleep(1)
        set_desired_force(fd=[0, 0, -15, 0, 0, 0], dir=[0, 0, 1, 0, 0, 0], mod=DR_FC_MOD_REL)
        time.sleep(1)
        force_condition = check_force_condition(DR_AXIS_Z, max=15)
        time.sleep(1)

        print("force_condition Start : ", force_condition)
        while (force_condition > -1):
            force_condition = check_force_condition(DR_AXIS_Z, max=15)
            time.sleep(2)
        time.sleep(1)
        release_force()
        release_compliance_ctrl()
        release()
        ###########################################################
        movel(target_pos_up, vel=VELOCITY, acc=ACC, mod=0)
        movel(z1, vel=VELOCITY, acc=ACC)

def stack(self):
    if not self.position:
        print("No position set for stacking.")
        return
    self.__move_to_pos_stack(self.position, self.position_up)
    self.stacked=True
    self.set_stock(self.stock + 1)
    print(f'stock: {self.stock}')
```

- ì¶œê³  ì½”ë“œ ë° ë™ì‘ ì‚¬ì§„
<img src="https://github.com/daeyeong-choi/WMS/blob/main/images/outbound_code.png" width="600" />

```python
def __move_to_pos_unstack(self, target_pos, target_pos_up, unstack_pos_list):
        p_out=posx(647.28, 198.80, 51.03, 4.75, -178.89, -84.33)
        p_out_up=posx(647.28, 198.80, 120.03, 4.75, -178.89, -84.33)
        release()
        print("moving to target_pos_up")
        movel(target_pos_up, vel=VELOCITY, acc=ACC, mod=0)
        print("target_pos_up:", target_pos_up)
        mwait()


        if self.stock == 2:
            print("moving to grip")
            movel(unstack_pos_list[1][0], vel=VELOCITY, acc=ACC, mod=0)
            grip()
            wait(1)
            movel(unstack_pos_list[1][1], vel=VELOCITY, acc=ACC, mod=0)
            movel(unstack_pos_list[1][2], vel=VELOCITY, acc=ACC, mod=0)
             
        elif self.stock ==3:
            print("moving to grip")
            movel(unstack_pos_list[0][0], vel=VELOCITY, acc=ACC, mod=0)
            grip()
            wait(1)
            movel(unstack_pos_list[0][1], vel=VELOCITY, acc=ACC, mod=0)
            movel(unstack_pos_list[0][2], vel=VELOCITY, acc=ACC, mod=0)

        movel(target_pos_up, vel=VELOCITY, acc=ACC, mod=0)
        movel(p_out_up, vel=VELOCITY, acc=ACC)
        movel(p_out, vel=VELOCITY, acc=ACC)
        release()

def unstack(self):
    if self.stock <= 0:
        print(f"Box {self.id} is out of stock!")
        return
    
    print(f'stock: {self.stock}')
    self.__move_to_pos_unstack(self.position, self.position_up, self.unstack_pos_list)
    self.set_stock = self.stock - 1
    print(f'stock: {self.stock}')
```

- ì¬ê³  ì²´í¬ ì½”ë“œ ë° ì‚¬ì§„

```python
def info(self):
    return f"id : {self.id}\nstock : {self.stock}\nposition : {self.pos_id}\n=====\n"
~~~
elif mode_select == 3:
    while True:
        movej(HOME_READY, vel=VELOCITY, acc=ACC)
        select_wh = int(input('select_wh_number :'))

        if select_wh == 1:  # small sq
            print(aa.info())
        elif select_wh == 2:  # medium sq
            print(bb.info())
        elif select_wh == 3:  # large sq
            print(cc.info())
        elif select_wh == 4:  # round sq
            print(dd.info())
        elif select_wh == 5:  # high sq
            print(ee.info())
        elif select_wh == 6:  # change to mode_select
            break
        else:
            print('wrong number!')
```
<img src="https://github.com/daeyeong-choi/WMS/blob/main/images/check.png" width="600" />

## Demo video link
[![YouTube](https://img.shields.io/badge/YouTube-FF0000?logo=youtube&logoColor=white)](https://youtube.com/shorts/2GCx_hT8v0I?feature=share)

